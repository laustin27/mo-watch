(this["webpackJsonpmo-watch"]=this["webpackJsonpmo-watch"]||[]).push([[0],{25:function(e,t,i){},29:function(e,t,i){},30:function(e,t,i){},35:function(e,t,i){},36:function(e,t,i){},38:function(e,t,i){"use strict";i.r(t);var n=i(3),s=i.n(n),a=i(18),c=i.n(a),r=(i(25),i(12)),o=i(14),d=(i(26),i(29),i(30),i(10)),l=i(19),m=i.n(l),u=i(7),j=i(6),p=(i(35),i(36),i(2));var b=function(e){var t="loud"==e.volume,i="medium"==e.volume,n="quiet"==e.volume,s=t?"red":i?"yellow":n?"green":"",a=t?"BIG BARK!":i?"Bark":n?"baby bark":"",c=6e3*e.timestampMinutes+1e3*e.timestampSeconds,r=new Date(e.startTime.getTime()+c);return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"noise-event-container",style:{display:"flex",flexDirection:"row",paddingRight:"1rem",paddingLeft:"1rem",fontSize:"0.75rem",alignItems:"center"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"33%",marginRight:"1rem"},children:[Object(p.jsx)(u.a,{icon:j.c,style:{marginRight:"1rem",color:s,fontSize:"1rem"},fixedWidth:!0}),Object(p.jsx)("span",{className:"noise-event-text",children:a})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"67%"},children:[Object(p.jsx)("div",{children:"Occurred at "+r.toLocaleTimeString("en-US")}),Object(p.jsx)("div",{children:"after "+((null===e||void 0===e?void 0:e.timestampMinutes)>1?(null===e||void 0===e?void 0:e.timestampMinutes)+(1==(null===e||void 0===e?void 0:e.timestampMinutes)?" minute":" minutes")+" and ":"")+(null===e||void 0===e?void 0:e.timestampSeconds)+" seconds"})]},e.key)]})})},h=i.p+"static/media/moBounce2.b228a1dc.gif";function v(e){var t=e.toString();return null!==t&&void 0!==t?t:null}function g(e){var t;if(e.error)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.d,className:"big-icon"}),Object(p.jsx)("h1",{children:"Something went wrong"})]});else if(e.loading)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)("img",{src:h,style:{height:"70px",width:"70px"}}),Object(p.jsx)("h2",{style:{marginTop:"0"},children:"Loading..."})]});else if(e.values&&e.values.length>0){var i;t=null===(i=e.values)||void 0===i?void 0:i.map((function(t,i){var n=1==t.LoudNoiseHappened?"loud":1==t.MediumNoiseHappened?"medium":1==t.QuietNoiseHappened?"quiet":"";return Object(p.jsx)(b,{volume:n,timestampMinutes:v(t.NoiseTimestampMinute),timestampSeconds:v(t.NoiseTimestampSecond),startTime:e.startTime},i)}))}else t=0==e.values.length?Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.f,className:"big-icon"}),Object(p.jsx)("h1",{children:"Hooray!!"}),Object(p.jsx)("span",{children:"No barks have happened yet"})]}):Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.e,className:"big-icon"}),Object(p.jsx)("h1",{children:"Not Sure"}),Object(p.jsx)("span",{children:"This is embarassing... I don't know what to display"})]});return Object(p.jsx)("div",{children:t})}var f=i(20);o.a.initializeApp({apiKey:"AIzaSyBLYuScmM2f7tn458Ue9TiWVS5FnuCExfQ",authDomain:"mo-watch.firebaseapp.com",databaseURL:"https://mo-watch-default-rtdb.firebaseio.com",projectId:"mo-watch",storageBucket:"mo-watch.appspot.com",messagingSenderId:"86065285680",appId:"1:86065285680:web:eb770abf0d22044715bbf5",measurementId:"G-TFCK2JPGGG"});var x={year:"numeric",month:"long",day:"numeric"};function O(e){return Object(p.jsxs)("span",{style:{paddingLeft:"1rem",alignItems:"center",height:"8vh",display:"flex",cursor:"pointer",justifyContent:"space-between",boxShadow:"0px 0px 6px 0 #000"},children:["Stats",Object(p.jsx)(u.a,{icon:e.dropdownOpen?j.b:j.a,style:{paddingRight:"1rem"}})]})}var y=function(){var e,t,i=Object(d.b)(o.a.database().ref("/StartTime"),{transform:function(e){return new Date(e)}}),n=Object(r.a)(i,1)[0],a=Object(d.a)(o.a.database().ref("/NoiseEvents")),c=Object(r.a)(a,3),l=c[0],u=c[1],j=c[2],b=s.a.useState(),h=Object(r.a)(b,2),y=h[0],S=h[1],w=s.a.useState(!1),N=Object(r.a)(w,2),T=N[0],B=N[1],k=s.a.useRef(null===l||void 0===l?void 0:l.at(l.length-1)),I=new Date,L=Object(f.useStopwatch)({autoStart:!0,offsetTimestamp:new Date(I.getTime()+6e3*(null===(e=k.current)||void 0===e?void 0:e.NoiseTimestampMinute)+1e3*(null===(t=k.current)||void 0===t?void 0:t.NoiseTimestampSeconds))}),M=L.seconds,D=L.minutes,C=L.hours,F=L.days,H=L.reset;return s.a.useEffect((function(){var e=0,t=0,i=0,n=null;(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l||l.map((function(s,a){1==s.LoudNoiseHappened?i++:1==s.MediumNoiseHappened?t++:1==s.QuietNoiseHappened&&e++,0==a&&(n=v(s.NoiseTimestampMinute)+":"+v(s.NoiseTimestampSecond)),a==l.length-1&&k.current!=s&&(H(),k.current=s)})),S({quietBarks:e,mediumBarks:t,loudBarks:i,firstBarkTime:n}))}),[l]),Object(p.jsxs)("body",{children:[Object(p.jsx)("header",{children:n&&Object(p.jsx)("span",{children:"Device last started on ".concat(n.toLocaleDateString("en-US",x)," at ").concat(n.toLocaleTimeString("en-US"))})}),y&&Object(p.jsxs)(m.a,{trigger:Object(p.jsx)(O,{dropdownOpen:T}),open:T,handleTriggerClick:function(){return B(!T)},children:[Object(p.jsxs)("p",{children:["Baby Barks: ",y.quietBarks]}),Object(p.jsxs)("p",{children:["Barks: ",y.mediumBarks]}),Object(p.jsxs)("p",{children:["Big Boy Barks: ",y.loudBarks]}),Object(p.jsxs)("p",{children:["First noise detected after ",y.firstBarkTime]}),Object(p.jsxs)("p",{children:["It has been",F?F+" days, ":""," ",C?C+" hours, ":""," ",D?D+(1==D?" minute":" minutes")+" and ":""," ",M?M+" seconds":""," since last bark"]})]}),Object(p.jsx)("div",{className:"body",children:Object(p.jsx)(g,{values:l,loading:u,error:j,startTime:n})})]})},S=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,39)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),n(e),s(e),a(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),S()}},[[38,1,2]]]);
//# sourceMappingURL=main.21260aed.chunk.js.map