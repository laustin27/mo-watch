(this["webpackJsonpmo-watch"]=this["webpackJsonpmo-watch"]||[]).push([[0],{25:function(e,t,i){},29:function(e,t,i){},30:function(e,t,i){},35:function(e,t,i){},36:function(e,t,i){},38:function(e,t,i){"use strict";i.r(t);var n=i(3),s=i.n(n),a=i(18),c=i.n(a),r=(i(25),i(12)),o=i(14),d=(i(26),i(29),i(30),i(10)),l=i(19),m=i.n(l),u=i(7),j=i(6);i(35),i(36);function b(e){var t=e.toString();return null!==t&&void 0!==t?t:null}function h(e,t,i){var n=6e4*t+1e3*i;return new Date(e.getTime()+n)}var p=i(2);var g=function(e){var t="loud"==e.volume,i="medium"==e.volume,n="quiet"==e.volume,s=t?"red":i?"yellow":n?"green":"",a=t?"BIG BARK!":i?"Bark":n?"baby bark":"",c=h(e.startTime,e.timestampMinutes,e.timestampSeconds);return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"noise-event-container",style:{display:"flex",flexDirection:"row",paddingRight:"1rem",paddingLeft:"1rem",fontSize:"0.75rem",alignItems:"center"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"33%",marginRight:"1rem"},children:[Object(p.jsx)(u.a,{icon:j.c,style:{marginRight:"1rem",color:s,fontSize:"1rem"},fixedWidth:!0}),Object(p.jsx)("span",{className:"noise-event-text",children:a})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"67%"},children:[Object(p.jsx)("div",{children:"Occurred at "+c.toLocaleTimeString("en-US")}),Object(p.jsx)("div",{children:"after "+((null===e||void 0===e?void 0:e.timestampMinutes)>1?(null===e||void 0===e?void 0:e.timestampMinutes)+(1==(null===e||void 0===e?void 0:e.timestampMinutes)?" minute":" minutes")+" and ":"")+(null===e||void 0===e?void 0:e.timestampSeconds)+" seconds"})]},e.key)]})})},v=i.p+"static/media/moBounce2.b228a1dc.gif";function f(e){var t;if(e.error)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.d,className:"big-icon"}),Object(p.jsx)("h1",{children:"Something went wrong"})]});else if(e.loading)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)("img",{src:v,style:{height:"70px",width:"70px"}}),Object(p.jsx)("h2",{style:{marginTop:"0"},children:"Loading..."})]});else if(e.values&&e.values.length>0){var i;t=null===(i=e.values)||void 0===i?void 0:i.map((function(t,i){var n=1==t.LoudNoiseHappened?"loud":1==t.MediumNoiseHappened?"medium":1==t.QuietNoiseHappened?"quiet":"";return Object(p.jsx)(g,{volume:n,timestampMinutes:b(t.NoiseTimestampMinute),timestampSeconds:b(t.NoiseTimestampSecond),startTime:e.startTime},i)}))}else t=0==e.values.length?Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.f,className:"big-icon"}),Object(p.jsx)("h1",{children:"Hooray!!"}),Object(p.jsx)("span",{children:"No barks have happened yet"})]}):Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.e,className:"big-icon"}),Object(p.jsx)("h1",{children:"Not Sure"}),Object(p.jsx)("span",{children:"This is embarassing... I don't know what to display"})]});return Object(p.jsx)("div",{children:t})}var x=i(20);o.a.initializeApp({apiKey:"AIzaSyBLYuScmM2f7tn458Ue9TiWVS5FnuCExfQ",authDomain:"mo-watch.firebaseapp.com",databaseURL:"https://mo-watch-default-rtdb.firebaseio.com",projectId:"mo-watch",storageBucket:"mo-watch.appspot.com",messagingSenderId:"86065285680",appId:"1:86065285680:web:eb770abf0d22044715bbf5",measurementId:"G-TFCK2JPGGG"});var O={year:"numeric",month:"long",day:"numeric"};function S(e){return Object(p.jsxs)("span",{style:{paddingLeft:"1rem",alignItems:"center",height:"8vh",display:"flex",cursor:"pointer",justifyContent:"space-between",boxShadow:"0px 0px 6px 0 #000"},children:["Stats",Object(p.jsx)(u.a,{icon:e.dropdownOpen?j.b:j.a,style:{paddingRight:"1rem"}})]})}var y=function(){var e=Object(d.b)(o.a.database().ref("/StartTime"),{transform:function(e){return new Date(e)}}),t=Object(r.a)(e,1)[0],i=Object(d.a)(o.a.database().ref("/NoiseEvents")),n=Object(r.a)(i,3),a=n[0],c=n[1],l=n[2],u=s.a.useState(),j=Object(r.a)(u,2),g=j[0],v=j[1],y=s.a.useState(!1),w=Object(r.a)(y,2),T=w[0],B=w[1],N=Object(x.useStopwatch)({autoStart:!0}),k=N.seconds,M=N.minutes,D=N.hours,I=N.days,L=N.reset;return s.a.useEffect((function(){var e=0,i=0,n=0,s=null,c=null;(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a||a.map((function(r,o){if(1==r.LoudNoiseHappened?n++:1==r.MediumNoiseHappened?i++:1==r.QuietNoiseHappened&&e++,0==o&&(s=b(r.NoiseTimestampMinute),c=b(r.NoiseTimestampSecond)),o==a.length-1){var d=h(t,r.NoiseTimestampMinute,r.NoiseTimestampSecond),l=(new Date).getTime()-d.getTime();L(new Date((new Date).getTime()+l))}})),v({quietBarks:e,mediumBarks:i,loudBarks:n,firstBarkTimeMinutes:s,firstBarkTimeSeconds:c}))}),[a]),Object(p.jsxs)("body",{children:[Object(p.jsx)("header",{children:t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:"Device started on ".concat(t.toLocaleDateString("en-US",O)," at ").concat(t.toLocaleTimeString("en-US"))}),a.length>0&&Object(p.jsxs)("div",{children:["It has been",I?I+" days, ":""," ",D?D+" hours, ":""," ",M?M+(1==M?" minute":" minutes")+" and ":""," ",k||0," seconds since last bark"]})]})}),g&&Object(p.jsxs)(m.a,{trigger:Object(p.jsx)(S,{dropdownOpen:T}),open:T,handleTriggerClick:function(){return B(!T)},children:[Object(p.jsxs)("p",{children:["Baby Barks: ",g.quietBarks]}),Object(p.jsxs)("p",{children:["Barks: ",g.mediumBarks]}),Object(p.jsxs)("p",{children:["Big Boy Barks: ",g.loudBarks]}),Object(p.jsxs)("p",{children:["First noise detected after"," "+g.firstBarkTimeMinutes+(1==g.firstBarkTimeMinutes?" minute":" minutes")," and"," "+g.firstBarkTimeSeconds," seconds"]})]}),Object(p.jsx)("div",{className:"body",children:Object(p.jsx)(f,{values:a,loading:c,error:l,startTime:t})})]})},w=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,39)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),n(e),s(e),a(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),w()}},[[38,1,2]]]);
//# sourceMappingURL=main.b884356c.chunk.js.map