(this["webpackJsonpmo-watch"]=this["webpackJsonpmo-watch"]||[]).push([[0],{25:function(e,t,i){},29:function(e,t,i){},30:function(e,t,i){},35:function(e,t,i){},36:function(e,t,i){},38:function(e,t,i){"use strict";i.r(t);var n=i(3),s=i.n(n),a=i(18),o=i.n(a),c=(i(25),i(12)),r=i(14),d=(i(26),i(29),i(30),i(10)),l=i(19),m=i.n(l),u=i(7),j=i(6),p=(i(35),i(36),i(2));var b=function(e){var t="loud"==e.volume,i="medium"==e.volume,n="quiet"==e.volume,s=t?"red":i?"yellow":n?"green":"",a=t?"BIG BARK!":i?"Bark":n?"baby bark":"",o=6e4*e.timestampMinutes+1e3*e.timestampSeconds,c=new Date(e.startTime.getTime()+o);return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"noise-event-container",style:{display:"flex",flexDirection:"row",paddingRight:"1rem",paddingLeft:"1rem",fontSize:"0.75rem",alignItems:"center"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"33%",marginRight:"1rem"},children:[Object(p.jsx)(u.a,{icon:j.c,style:{marginRight:"1rem",color:s,fontSize:"1rem"},fixedWidth:!0}),Object(p.jsx)("span",{className:"noise-event-text",children:a})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"67%"},children:[Object(p.jsx)("div",{children:"Occurred at "+c.toLocaleTimeString("en-US")}),Object(p.jsx)("div",{children:"after "+((null===e||void 0===e?void 0:e.timestampMinutes)>1?(null===e||void 0===e?void 0:e.timestampMinutes)+(1==(null===e||void 0===e?void 0:e.timestampMinutes)?" minute":" minutes")+" and ":"")+(null===e||void 0===e?void 0:e.timestampSeconds)+" seconds"})]},e.key)]})})},h=i.p+"static/media/moBounce2.b228a1dc.gif";function g(e){var t=e.toString();return null!==t&&void 0!==t?t:null}function f(e){var t;if(e.error)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.d,className:"big-icon"}),Object(p.jsx)("h1",{children:"Something went wrong"})]});else if(e.loading)t=Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)("img",{src:h,style:{height:"70px",width:"70px"}}),Object(p.jsx)("h2",{style:{marginTop:"0"},children:"Loading..."})]});else if(e.values&&e.values.length>0){var i;t=null===(i=e.values)||void 0===i?void 0:i.map((function(t,i){var n=1==t.LoudNoiseHappened?"loud":1==t.MediumNoiseHappened?"medium":1==t.QuietNoiseHappened?"quiet":"";return Object(p.jsx)(b,{volume:n,timestampMinutes:g(t.NoiseTimestampMinute),timestampSeconds:g(t.NoiseTimestampSecond),startTime:e.startTime},i)}))}else t=0==e.values.length?Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.f,className:"big-icon"}),Object(p.jsx)("h1",{children:"Hooray!!"}),Object(p.jsx)("span",{children:"No barks have happened yet"})]}):Object(p.jsxs)("div",{className:"message-container",children:[Object(p.jsx)(u.a,{icon:j.e,className:"big-icon"}),Object(p.jsx)("h1",{children:"Not Sure"}),Object(p.jsx)("span",{children:"This is embarassing... I don't know what to display"})]});return Object(p.jsx)("div",{children:t})}var v=i(20);r.a.initializeApp({apiKey:"AIzaSyBLYuScmM2f7tn458Ue9TiWVS5FnuCExfQ",authDomain:"mo-watch.firebaseapp.com",databaseURL:"https://mo-watch-default-rtdb.firebaseio.com",projectId:"mo-watch",storageBucket:"mo-watch.appspot.com",messagingSenderId:"86065285680",appId:"1:86065285680:web:eb770abf0d22044715bbf5",measurementId:"G-TFCK2JPGGG"});var x={year:"numeric",month:"long",day:"numeric"};function O(e){return Object(p.jsxs)("span",{style:{paddingLeft:"1rem",alignItems:"center",height:"8vh",display:"flex",cursor:"pointer",justifyContent:"space-between",boxShadow:"0px 0px 6px 0 #000"},children:["Stats",Object(p.jsx)(u.a,{icon:e.dropdownOpen?j.b:j.a,style:{paddingRight:"1rem"}})]})}var T=function(){var e=Object(d.b)(r.a.database().ref("/StartTime"),{transform:function(e){return new Date(e)}}),t=Object(c.a)(e,1)[0],i=Object(d.a)(r.a.database().ref("/NoiseEvents")),n=Object(c.a)(i,3),a=n[0],o=n[1],l=n[2],u=s.a.useState(),j=Object(c.a)(u,2),b=j[0],h=j[1],T=s.a.useState(!1),w=Object(c.a)(T,2),S=w[0],y=w[1],B=(s.a.useRef(null===a||void 0===a?void 0:a.at(a.length-1)),Object(v.useStopwatch)({autoStart:!0})),N=B.seconds,k=B.minutes,D=B.hours,M=B.days,I=B.reset;return s.a.useEffect((function(){var e=0,i=0,n=0,s=null,o=null;(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a||a.map((function(c,r){if(1==c.LoudNoiseHappened?n++:1==c.MediumNoiseHappened?i++:1==c.QuietNoiseHappened&&e++,0==r&&(s=g(c.NoiseTimestampMinute),o=g(c.NoiseTimestampSecond)),r==a.length-1){var d=6e4*c.NoiseTimestampMinute+1e3*c.NoiseTimestampSecond,l=new Date(t.getTime()+d),m=(new Date).getTime()-l.getTime();console.log("about to reset timer"),console.log("timestampMillis",d),console.log("value.getTime()",t.getTime()),console.log("timestampDate",l),console.log("noiseEvent",c),console.log("offsetTimestamp",new Date((new Date).getTime()+m)),I(new Date((new Date).getTime()+m))}})),h({quietBarks:e,mediumBarks:i,loudBarks:n,firstBarkTimeMinutes:s,firstBarkTimeSeconds:o}))}),[a]),Object(p.jsxs)("body",{children:[Object(p.jsx)("header",{children:t&&Object(p.jsx)("span",{children:"Device last started on ".concat(t.toLocaleDateString("en-US",x)," at ").concat(t.toLocaleTimeString("en-US"))})}),b&&Object(p.jsxs)(m.a,{trigger:Object(p.jsx)(O,{dropdownOpen:S}),open:S,handleTriggerClick:function(){return y(!S)},children:[Object(p.jsxs)("p",{children:["Baby Barks: ",b.quietBarks]}),Object(p.jsxs)("p",{children:["Barks: ",b.mediumBarks]}),Object(p.jsxs)("p",{children:["Big Boy Barks: ",b.loudBarks]}),Object(p.jsxs)("p",{children:["First noise detected after"," "+b.firstBarkTimeMinutes+(1==b.firstBarkTimeMinutes?" minute":" minutes")," and"," "+b.firstBarkTimeSeconds," seconds"]}),Object(p.jsxs)("p",{children:["It has been",M?M+" days, ":""," ",D?D+" hours, ":""," ",k?k+(1==k?" minute":" minutes")+" and ":""," ",N?N+" seconds":""," since last bark"]})]}),Object(p.jsx)("div",{className:"body",children:Object(p.jsx)(f,{values:a,loading:o,error:l,startTime:t})})]})},w=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,39)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;i(e),n(e),s(e),a(e),o(e)}))};o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),w()}},[[38,1,2]]]);
//# sourceMappingURL=main.2656707b.chunk.js.map